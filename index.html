<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Distance Converter</title>

    <!--/ /-------- Normalize CSS --------/ /-->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
      rel="stylesheet"
    />

    <!--/ /-------- Google Fonts --------/ /-->
    <link
      href="https://fonts.googleapis.com/css?family=Oswald|PT+Sans&display=swap"
      rel="stylesheet"
    />

    <!--/ /-------- My Styles --------/ /-->
    <link href="styles.css" rel="stylesheet" />
  </head>

  <body>
    <h1>Miles to Kilometers Converter</h1>

    <div class="container top">
      <p>
        Type in a number of miles and click the button to convert the distance
        to kilometers.
      </p>

      <form method="post" action="somephpfile.php" id="convert">
        <input
          type="text"
          name="distance"
          id="distance"
          placeholder="distance"
        />
        <input type="submit" name="convertdist" value="Convert Distance" />
      </form>
    </div>
    <div class="container bottom" id="answer">
      <h2 class="invisible">Answer goes here</h2>
    </div>

    <p id="directions">
      Press the "K" key to switch to kilometer converstion, press the "M" key to
      switch to mile conversion
    </p>

    <script>
      var convertType = "miles";
      var heading = document.querySelector("h1");
      var into = document.querySelector("p");
      var answerDiv = document.getElementById("Answer goes here");
      var form = document.getElementById("convert");

      //keydown event listener
      document.addEventListener("keydown", function (event) {
        var key = event.code;
        // alert(key);
        // if else statment required
        if (key === "KeyK") {
          convertType = "kilometers";
          heading.innerHTML = "Kilometers to Miles Converter";
          into.innerHTML =
            "Type in a number of kilometers and click the button to convert the distance to miles.";
          //change the heading
          //change intro paragraph
          //change value of convertType variable
        } else if (key === "KeyM") {
            //reuse code from the if statment and swap kilo and miles
          convertType = "miles";
          heading.innerHTML = "Miles to Kilometers Converter";
          into.innerHTML =
            "Type in a number of miles and click the button to convert the distance to kilometers.";
        }
      });
      //submit even listener
      form.addEventListener("submit", function () {

        event.preventDefault();

        var distance = parseFloat(document.getElementById("distance").value);

        if( distance ){
            //conversion miles to kilomoeters 1.609344
            //conersion kilometers to miles 0.1621371192
           if(convertType === "miles"){
                var converted = (distance * 1.609344).toFixed(3);
                answer.innerHTML = `${distance} miles converted to ${converted} kilometers`;
           }
           else {
            var converted = (distance * 0.1621371192).toFixed(3);
            answer.innerHTML = `${distance} kilometers converted to ${converted} miles`;

           }
        }
        else {
            answer.innerHTML = "<h2>Please provide a number</h2>";
            
        }
      });


    </script>
  </body>
</html>
